import{a as e}from"./rolldown-runtime-Cn8xt2Gj.js";import{D as t,E as n,a as r,c as i,d as a,f as o,g as s,h as c,i as l,l as u,m as d,n as f,p,r as m,s as h,t as g,u as _}from"./react-vendor-vi05DBKb.js";import{a as v,i as y,n as b,r as x,t as S}from"./forms-pj7poXQ7.js";import{i as C,n as w,r as T,t as E}from"./framer-motion-BnyUh_w0.js";import{n as D}from"./index-CYrj3BAG.js";import{t as O}from"./Input-w1S29rlE.js";var k=e(v()),A=e(C());function j({label:e,placeholder:t=`Seleccionar opciones...`,options:n,value:r,onChange:i,error:a,helperText:s}){let[c,l]=(0,k.useState)(!1),[u,d]=(0,k.useState)(``),m=(0,k.useRef)(null),h=(0,k.useRef)(null),_=(0,k.useRef)(null);(0,k.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&l(!1)};return c&&document.addEventListener(`mousedown`,e),()=>{document.removeEventListener(`mousedown`,e)}},[c]),(0,k.useEffect)(()=>{let e=e=>{e.key===`Escape`&&(u?d(``):l(!1))};return c&&document.addEventListener(`keydown`,e),()=>{document.removeEventListener(`keydown`,e)}},[c,u]);let v=()=>{let e=!c;l(e),e?setTimeout(()=>{_.current?.focus()},100):d(``)},y=e=>{r.includes(e)?i(r.filter(t=>t!==e)):i([...r,e])},b=(e,t)=>{t.stopPropagation(),i(r.filter(t=>t!==e))},x=e=>n.find(t=>t.value===e)?.label||e,S=`multiselect-${e?.replace(/\s/g,`-`).toLowerCase()}`,C=`${S}-error`,w=`${S}-helper`,T=n.filter(e=>e.label.toLowerCase().includes(u.toLowerCase()));return(0,A.jsxs)(`div`,{className:`flex w-full flex-col gap-1`,ref:m,children:[e&&(0,A.jsx)(`label`,{htmlFor:S,className:`text-sm sm:text-base font-medium text-[#292929]`,children:e}),(0,A.jsxs)(`div`,{className:`relative`,children:[(0,A.jsx)(`div`,{ref:h,id:S,onClick:v,role:`combobox`,"aria-expanded":c,"aria-haspopup":`listbox`,"aria-invalid":a?`true`:`false`,"aria-describedby":a?C:s?w:void 0,className:`
            w-full
            min-h-[44px]
            rounded-[10px]
            border
            bg-[#FAFAFA]
            px-3 py-2
            text-xs
            sm:text-sm
            md:text-base
            text-[#838383]
            shadow-[0px_2px_8px_0px_rgba(0,0,0,0.25)]
            transition-all
            duration-200
            cursor-pointer
            focus:outline-none
            focus:ring-2
            focus:ring-[#292929]
            focus:ring-offset-0
            ${a?`border-2 border-[#FF233D] focus:ring-[#FF233D]`:`border border-[#292929]`}
          `,style:{fontFamily:`'Gotham Rounded', sans-serif`,fontWeight:325,lineHeight:`140%`},tabIndex:0,onKeyDown:e=>{(e.key===`Enter`||e.key===` `)&&(e.preventDefault(),v())},children:(0,A.jsx)(`div`,{className:`flex flex-wrap gap-1.5 items-center`,children:r.length===0?(0,A.jsx)(`span`,{className:`text-[#838383]`,children:t}):r.map((e,t)=>(0,A.jsxs)(`span`,{className:`inline-flex items-center gap-1 px-2 py-1 bg-[#FB6731] text-white rounded-md text-xs font-medium`,style:{fontFamily:`'Gotham Rounded', sans-serif`},children:[x(e),(0,A.jsx)(`button`,{onClick:t=>b(e,t),className:`inline-flex items-center justify-center min-w-[20px] min-h-[20px] w-5 h-5 rounded-full hover:bg-white/20 transition-colors active:scale-90`,"aria-label":`Eliminar ${x(e)}`,type:`button`,children:(0,A.jsx)(g,{className:`w-3 h-3`,strokeWidth:2})})]},`selected-${e}-${t}`))})}),(0,A.jsx)(`div`,{className:`pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3`,children:(0,A.jsx)(o,{className:`h-5 w-5 text-[#838383] transition-transform duration-200 ${c?`rotate-180`:``}`,"aria-hidden":`true`})}),c&&(0,A.jsxs)(`div`,{className:`absolute z-50 w-full mt-1 bg-white border border-[#292929] rounded-[10px] shadow-lg max-h-[60vh] overflow-hidden`,role:`listbox`,"aria-label":e,children:[(0,A.jsx)(`div`,{className:`sticky top-0 bg-white p-3 border-b border-gray-200 rounded-t-[10px] z-10`,children:(0,A.jsxs)(`div`,{className:`relative`,children:[(0,A.jsx)(`input`,{ref:_,type:`text`,value:u,onChange:e=>d(e.target.value),placeholder:`Buscar...`,className:`w-full pl-9 pr-9 py-2 min-h-[44px] text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FB6731] focus:border-transparent`,onClick:e=>e.stopPropagation()}),(0,A.jsx)(f,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),u&&(0,A.jsx)(`button`,{onClick:e=>{e.stopPropagation(),d(``),_.current?.focus()},className:`absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors`,"aria-label":`Limpiar búsqueda`,children:(0,A.jsx)(g,{className:`w-4 h-4`,strokeWidth:2})})]})}),(0,A.jsx)(`div`,{className:`max-h-60 overflow-auto`,children:T.length===0?(0,A.jsx)(`div`,{className:`px-3 py-3 min-h-[44px] flex items-center text-sm text-[#838383]`,children:u?`No se encontraron resultados`:`No hay opciones disponibles`}):T.map((e,t)=>{let n=r.includes(e.value);return(0,A.jsxs)(`div`,{onClick:()=>y(e.value),role:`option`,"aria-selected":n,className:`
                      px-3 py-3
                      min-h-[44px]
                      cursor-pointer
                      transition-colors
                      flex items-center gap-2
                      text-xs sm:text-sm
                      active:scale-[0.98]
                      ${n?`bg-[#FFF0EB] text-[#FB6731]`:`hover:bg-gray-50 text-[#292929]`}
                    `,style:{fontFamily:`'Gotham Rounded', sans-serif`,fontWeight:325},children:[(0,A.jsx)(`div`,{className:`
                        w-4 h-4 rounded border flex items-center justify-center
                        ${n?`bg-[#FB6731] border-[#FB6731]`:`border-[#292929] bg-white`}
                      `,children:n&&(0,A.jsx)(p,{className:`w-3 h-3 text-white`,strokeWidth:3})}),(0,A.jsx)(`span`,{children:e.label})]},`option-${e.value||t}`)})})]})]}),a&&(0,A.jsx)(`p`,{id:C,role:`alert`,className:`text-[11px] sm:text-sm leading-[140%] text-[#FF233D]`,style:{fontWeight:400},children:a}),s&&!a&&(0,A.jsx)(`p`,{id:w,className:`text-[11px] sm:text-sm text-[#838383]`,style:{fontWeight:400},children:s})]})}function M({searchTerm:e,levelFilters:t,skillFilters:n,getLevelLabel:r,getSkillLabel:i}){return(0,A.jsxs)(`div`,{className:`flex flex-wrap gap-2 items-center w-full min-w-0`,children:[(0,A.jsx)(`span`,{className:`text-sm text-gray-600 shrink-0`,children:`Filtros activos:`}),e&&(0,A.jsxs)(w.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1},className:`inline-flex items-center gap-1 px-3 py-1 bg-white border border-[#FB6731] text-[#FB6731] rounded-md text-sm max-w-full`,children:[(0,A.jsx)(f,{className:`w-4 h-4 shrink-0`}),(0,A.jsx)(`span`,{className:`font-medium shrink-0`,children:`Búsqueda:`}),(0,A.jsxs)(`span`,{className:`truncate`,children:[`"`,e,`"`]})]}),t.map((e,t)=>(0,A.jsxs)(w.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1+t*.05},className:`inline-flex items-center gap-1 px-3 py-1 bg-white border border-[#FB6731] text-[#FB6731] rounded-md text-sm max-w-full`,children:[(0,A.jsx)(`span`,{className:`font-medium shrink-0`,children:`Nivel:`}),(0,A.jsx)(`span`,{className:`truncate`,children:r(e)})]},`level-${e}-${t}`)),n.map((e,n)=>(0,A.jsxs)(w.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1+(t.length+n)*.05},className:`inline-flex items-center gap-1 px-3 py-1 bg-white border border-[#FB6731] text-[#FB6731] rounded-md text-sm max-w-full`,children:[(0,A.jsx)(`span`,{className:`font-medium shrink-0`,children:`Skill:`}),(0,A.jsx)(`span`,{className:`truncate`,children:i(e)})]},`skill-${e}-${n}`))]})}function N({isExpanded:e,onToggleExpanded:t,searchTerm:n,onSearchChange:r,levelFilters:i,onLevelFiltersChange:a,skillFilters:s,onSkillFiltersChange:c,levelOptions:l,skillOptions:u,onClearFilters:d,activeFiltersCount:f}){let p=e=>l.find(t=>t.value===e)?.label||e,m=e=>u.find(t=>t.value===e)?.label||e;return(0,A.jsxs)(`div`,{className:`hidden md:block w-full bg-[#FFF0EB] rounded-xl p-6 mb-6 border border-[#FB6731]/20`,children:[(0,A.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,A.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,A.jsx)(`h2`,{className:`text-lg font-semibold text-gray-900`,children:`Filtros`}),(0,A.jsx)(T,{mode:`wait`,children:f>0&&(0,A.jsx)(w.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:`spring`,stiffness:500,damping:25},className:`inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-[#FB6731] rounded-full leading-none`,children:f},f)})]}),(0,A.jsx)(w.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-2 text-[#FB6731] hover:bg-[#FB6731]/10 rounded-lg transition-colors`,"aria-label":e?`Ocultar filtros`:`Mostrar filtros`,children:(0,A.jsx)(w.div,{animate:{rotate:e?180:0},transition:{duration:.3,ease:`easeInOut`},children:(0,A.jsx)(o,{className:`w-5 h-5`})})})]}),(0,A.jsx)(T,{children:!e&&f>0&&(0,A.jsx)(w.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:`auto`},exit:{opacity:0,height:0},transition:{duration:.3,ease:`easeInOut`},children:(0,A.jsx)(M,{searchTerm:n,levelFilters:i,skillFilters:s,getLevelLabel:p,getSkillLabel:m})})}),(0,A.jsxs)(T,{children:[e&&(0,A.jsx)(w.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:`auto`},exit:{opacity:0,height:0},transition:{duration:.3,ease:`easeInOut`},className:`space-y-4 mt-4`,children:(0,A.jsxs)(w.div,{initial:{y:-10},animate:{y:0},transition:{delay:.1},className:`flex flex-col gap-4 w-full`,children:[(0,A.jsx)(O,{type:`text`,placeholder:`Buscar por usuario o tecnología...`,value:n,onChange:e=>r(e.target.value),label:`Búsqueda libre`}),(0,A.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-4 w-full`,children:[(0,A.jsx)(`div`,{className:`flex-1 min-w-0`,children:(0,A.jsx)(j,{label:`Nivel de habilidad`,placeholder:`Seleccionar niveles...`,options:l,value:i,onChange:a,helperText:`El candidato debe tener todas las habilidades con los niveles seleccionados`})}),(0,A.jsx)(`div`,{className:`flex-1 min-w-0`,children:(0,A.jsx)(j,{label:`Habilidades`,placeholder:`Seleccionar habilidades...`,options:u,value:s,onChange:c,helperText:`El candidato debe tener todas las habilidades seleccionadas`})})]})]})}),f>0&&(0,A.jsxs)(w.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},onClick:d,className:`text-sm text-[#FB6731] hover:text-[#ff7542] font-medium transition-colors flex items-center gap-1 mt-4`,children:[(0,A.jsx)(g,{className:`w-4 h-4`}),`Limpiar filtros`]})]})]})}function ee({isOpen:e,onClose:t,children:n,title:r}){return(0,k.useEffect)(()=>{let n=n=>{n.key===`Escape`&&e&&t()};return document.addEventListener(`keydown`,n),()=>document.removeEventListener(`keydown`,n)},[e,t]),(0,k.useEffect)(()=>(e?document.body.style.overflow=`hidden`:document.body.style.overflow=`unset`,()=>{document.body.style.overflow=`unset`}),[e]),(0,A.jsx)(T,{children:e&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:t,className:`fixed inset-0 z-50 bg-black/50 backdrop-blur-sm`,"aria-hidden":`true`}),(0,A.jsx)(`div`,{className:`fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto`,children:(0,A.jsxs)(w.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:`spring`,stiffness:300,damping:25},onClick:e=>e.stopPropagation(),className:`relative w-full max-w-lg bg-white rounded-2xl shadow-2xl my-8`,role:`dialog`,"aria-modal":`true`,"aria-labelledby":r?`modal-title`:void 0,children:[(0,A.jsx)(`div`,{className:`bg-white border-b border-gray-200 px-6 py-4 rounded-t-2xl`,children:(0,A.jsxs)(`div`,{className:`flex items-center justify-between`,children:[r&&(0,A.jsx)(`h2`,{id:`modal-title`,className:`text-xl md:text-2xl font-semibold text-[#292929]`,children:r}),(0,A.jsx)(`button`,{onClick:t,className:`ml-auto text-gray-400 hover:text-gray-600 transition-colors`,"aria-label":`Cerrar modal`,children:(0,A.jsx)(g,{className:`w-6 h-6`})})]})}),(0,A.jsx)(`div`,{className:`px-6 py-6`,children:n})]})})]})})}const P=(0,k.forwardRef)(({label:e,error:t,helperText:n,className:r=``,id:i,options:a,placeholder:s=`Seleccionar...`,...c},l)=>{let u=i||`select-${e?.replace(/\s/g,`-`).toLowerCase()}`,d=`${u}-error`,f=`${u}-helper`;return(0,A.jsxs)(`div`,{className:`flex w-full flex-col gap-1`,children:[e&&(0,A.jsx)(`label`,{htmlFor:u,className:`text-sm sm:text-base font-medium text-[#292929]`,children:e}),(0,A.jsxs)(`div`,{className:`relative`,children:[(0,A.jsxs)(`select`,{ref:l,id:u,className:`
              w-full
              rounded-[10px]
              border
              bg-[#FAFAFA]
              px-3 py-2.5
              sm:py-3
              md:py-3.5
              text-start
              text-xs
              sm:text-sm
              md:text-base
              text-[#838383]
              shadow-[0px_2px_8px_0px_rgba(0,0,0,0.25)]
              transition-all
              duration-200
              focus:outline-none
              focus:ring-2
              focus:ring-[#292929]
              focus:ring-offset-0
              disabled:cursor-not-allowed
              disabled:opacity-50
              appearance-none
              cursor-pointer
              ${t?`border-2 border-[#FF233D] focus:ring-[#FF233D]`:`border border-[#292929]`}
              ${r}
            `,style:{fontFamily:`'Gotham Rounded', sans-serif`,fontWeight:325,lineHeight:`140%`},"aria-invalid":t?`true`:`false`,"aria-describedby":t?d:n?f:void 0,...c,children:[s&&(0,A.jsx)(`option`,{value:``,disabled:!0,children:s},`__placeholder__`),a.map((e,t)=>(0,A.jsx)(`option`,{value:e.value,children:e.label},e.value||`option-${t}`))]}),(0,A.jsx)(`div`,{className:`pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3`,children:(0,A.jsx)(o,{className:`h-5 w-5 text-[#838383]`,"aria-hidden":`true`})})]}),t&&(0,A.jsx)(`p`,{id:d,role:`alert`,className:`text-[11px] sm:text-sm leading-[140%] text-[#FF233D]`,style:{fontWeight:400},children:t}),n&&!t&&(0,A.jsx)(`p`,{id:f,className:`text-[11px] sm:text-sm text-[#838383]`,style:{fontWeight:400},children:n})]})});P.displayName=`Select`;var F=`contactedCandidates`;function I(){try{let e=localStorage.getItem(F);if(e){let t=JSON.parse(e);return new Set(t)}}catch(e){console.error(`Error reading contacted candidates from localStorage:`,e)}return new Set}function L(e){try{localStorage.setItem(F,JSON.stringify(Array.from(e)))}catch(e){console.error(`Error saving contacted candidates to localStorage:`,e)}}var R=I(),z=new Set;function B(e){return z.add(e),()=>z.delete(e)}function V(){return R}function H(){z.forEach(e=>e())}function U(){let e=(0,k.useSyncExternalStore)(B,V,V),t=(0,k.useCallback)(t=>e.has(t),[e]),n=(0,k.useCallback)(e=>{R=new Set(R),R.add(e),L(R),H()},[]),r=(0,k.useCallback)(()=>new Set(e),[e]),i=(0,k.useCallback)(()=>{R=new Set,L(R),H()},[]);return(0,k.useMemo)(()=>({isContacted:t,markAsContacted:n,contactedCandidates:e,getContactedCandidates:r,clearContacted:i}),[t,n,e,r,i])}var W=`https://private-73f5b0-challengefront.apiary-mock.com`;async function G(){let e=await fetch(`${W}/userlist`);if(!e.ok)throw Error(`Failed to fetch users`);return e.json()}async function K(){let e=await fetch(`${W}/roleslist`);if(!e.ok)throw Error(`Failed to fetch roles`);return e.json()}async function q(e){let t=await fetch(`${W}/messages`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw n;return n}var J=S({role:b().min(1,`El rol es obligatorio`),msj:b().min(1,`El mensaje es obligatorio`).min(10,`El mensaje debe tener al menos 10 caracteres`),email:b().min(1,`El email es obligatorio`).email(`Ingresá un email válido`)});function Y({isOpen:e,onClose:r,candidate:i,onSuccess:a,onError:o}){let{markAsContacted:s}=U(),{data:c,isLoading:l}=t({queryKey:[`roles`],queryFn:K,staleTime:1e3*60*10}),{register:u,handleSubmit:d,formState:{errors:f},reset:p,setError:m}=y({resolver:x(J),mode:`onBlur`,defaultValues:{role:``,msj:``,email:``}}),h=n({mutationFn:q,onSuccess:e=>{a(`✅ Mensaje enviado exitosamente a @${i?.username}. Se enviará una copia a tu email.`),p(),r();let t=JSON.parse(localStorage.getItem(`messageHistory`)||`[]`);t.push({id:e.id,candidateUsername:i?.username,role:e.role,msj:e.msj,submittedAt:e.submitted_at}),localStorage.setItem(`messageHistory`,JSON.stringify(t)),i?.username&&s(i.username)},onError:e=>{let t=e=>typeof e==`object`&&!!e&&`error`in e&&`message`in e;if(t(e)&&e.error===`invalid_role`)m(`role`,{type:`manual`,message:e.message}),o(`❌ ${e.message}. Por favor, seleccioná un rol válido de la lista.`);else{let n=t(e)?e.message:`Error desconocido`;o(`❌ Error al enviar el mensaje: ${n}`)}}}),g=e=>{h.mutate(e)},_=()=>{h.isPending||(p(),r())},v=c?.roles.map(e=>({value:e,label:e}))||[];return(0,A.jsx)(ee,{isOpen:e,onClose:_,title:`Contactar a @${i?.username||`candidato`}`,children:(0,A.jsxs)(`form`,{onSubmit:d(g),className:`flex flex-col gap-4`,children:[(0,A.jsx)(`div`,{className:`bg-gray-50 rounded-lg p-4 border border-gray-200`,children:(0,A.jsxs)(`div`,{className:`flex flex-col gap-2 text-sm`,children:[(0,A.jsxs)(`div`,{children:[(0,A.jsx)(`span`,{className:`font-medium text-gray-700`,children:`Usuario:`}),` `,(0,A.jsxs)(`span`,{className:`text-gray-600`,children:[`@`,i?.username]})]}),(0,A.jsxs)(`div`,{children:[(0,A.jsx)(`span`,{className:`font-medium text-gray-700`,children:`Puntuación:`}),` `,(0,A.jsxs)(`span`,{className:`text-gray-600`,children:[`⭐ `,i?.score]})]}),(0,A.jsxs)(`div`,{children:[(0,A.jsx)(`span`,{className:`font-medium text-gray-700`,children:`Habilidades:`}),` `,(0,A.jsx)(`div`,{className:`flex flex-wrap gap-1 mt-1`,children:i?.skills.map((e,t)=>(0,A.jsxs)(`span`,{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700`,children:[e.language,` (`,e.level,`)`]},t))})]})]})}),(0,A.jsx)(P,{...u(`role`),label:`Rol`,placeholder:`Seleccionar rol`,options:v,error:f.role?.message,disabled:h.isPending||l}),(0,A.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,A.jsx)(`label`,{htmlFor:`msj`,className:`text-sm sm:text-base font-medium text-[#292929]`,children:`Mensaje`}),(0,A.jsx)(`textarea`,{...u(`msj`),id:`msj`,rows:4,placeholder:`Escribe tu mensaje aquí (mínimo 10 caracteres)`,disabled:h.isPending,className:`
              w-full
              rounded-[10px]
              border
              bg-[#FAFAFA]
              px-3 py-2.5
              sm:py-3
              md:py-3.5
              text-xs
              sm:text-sm
              md:text-base
              text-[#838383]
              shadow-[0px_2px_8px_0px_rgba(0,0,0,0.25)]
              transition-all
              duration-200
              placeholder:text-[#838383]
              focus:outline-none
              focus:ring-2
              focus:ring-[#292929]
              focus:ring-offset-0
              disabled:cursor-not-allowed
              disabled:opacity-50
              resize-none
              ${f.msj?`border-2 border-[#FF233D] focus:ring-[#FF233D]`:`border border-[#292929]`}
            `,style:{fontFamily:`'Gotham Rounded', sans-serif`,fontWeight:325,lineHeight:`140%`},"aria-invalid":f.msj?`true`:`false`,"aria-describedby":f.msj?`msj-error`:void 0}),f.msj&&(0,A.jsx)(`p`,{id:`msj-error`,role:`alert`,className:`text-[11px] sm:text-sm leading-[140%] text-[#FF233D]`,style:{fontFamily:`'Gotham Rounded', sans-serif`,fontWeight:400},children:f.msj.message})]}),(0,A.jsx)(O,{...u(`email`),type:`email`,label:`Tu email (para recibir una copia)`,placeholder:`tu@email.com`,error:f.email?.message,disabled:h.isPending}),(0,A.jsxs)(`div`,{className:`flex gap-3 mt-2`,children:[(0,A.jsx)(`button`,{type:`button`,onClick:_,disabled:h.isPending,className:`flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`,children:`Cancelar`}),(0,A.jsx)(D,{type:`submit`,disabled:h.isPending,className:`flex-1`,children:(0,A.jsx)(`span`,{className:`text-sm font-medium`,children:h.isPending?`Enviando...`:`Enviar mensaje`})})]})]})})}function X({isOpen:e,onClose:t,searchTerm:n,onSearchChange:r,levelFilters:i,onLevelFiltersChange:a,skillFilters:o,onSkillFiltersChange:s,levelOptions:c,skillOptions:l,onClearFilters:u,activeFiltersCount:d}){let f=E(),p=(0,k.useRef)(null);return(0,k.useEffect)(()=>(e?document.body.style.overflow=`hidden`:document.body.style.overflow=``,()=>{document.body.style.overflow=``}),[e]),(0,k.useEffect)(()=>{let n=n=>{n.key===`Escape`&&e&&t()};return document.addEventListener(`keydown`,n),()=>document.removeEventListener(`keydown`,n)},[e,t]),(0,A.jsx)(T,{children:e&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:t,className:`fixed inset-0 bg-black/40 backdrop-blur-sm z-40`,"aria-hidden":`true`}),(0,A.jsxs)(w.div,{ref:p,initial:{y:`100%`},animate:{y:0},exit:{y:`100%`},transition:{type:`spring`,damping:30,stiffness:300},drag:`y`,dragControls:f,dragConstraints:{top:0,bottom:0},dragElastic:{top:0,bottom:.5},onDragEnd:(e,n)=>{(n.offset.y>150||n.velocity.y>300)&&t()},className:`fixed bottom-0 left-0 right-0 z-50 bg-white rounded-t-3xl shadow-2xl max-h-[85vh] flex flex-col`,role:`dialog`,"aria-modal":`true`,"aria-labelledby":`filter-drawer-title`,children:[(0,A.jsx)(`div`,{className:`flex justify-center py-3 cursor-grab active:cursor-grabbing`,onPointerDown:e=>f.start(e),children:(0,A.jsx)(`div`,{className:`w-12 h-1.5 bg-gray-300 rounded-full`})}),(0,A.jsxs)(`div`,{className:`flex items-center justify-between px-6 pb-4 border-b border-gray-200`,children:[(0,A.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,A.jsx)(`h2`,{id:`filter-drawer-title`,className:`text-xl font-bold text-gray-900`,children:`Filtros`}),(0,A.jsx)(T,{mode:`wait`,children:d>0&&(0,A.jsx)(w.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:`spring`,stiffness:500,damping:25},className:`inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-[#FB6731] rounded-full leading-none`,children:d},d)})]}),(0,A.jsx)(`button`,{onClick:t,className:`p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center`,"aria-label":`Cerrar filtros`,children:(0,A.jsx)(g,{className:`w-6 h-6`})})]}),(0,A.jsx)(`div`,{className:`flex-1 overflow-y-auto px-6 py-4`,children:(0,A.jsxs)(`div`,{className:`space-y-4 pb-4`,children:[(0,A.jsx)(O,{type:`text`,placeholder:`Buscar por usuario o tecnología...`,value:n,onChange:e=>r(e.target.value),label:`Búsqueda libre`}),(0,A.jsx)(j,{label:`Nivel de habilidad`,placeholder:`Seleccionar niveles...`,options:c,value:i,onChange:a,helperText:`El candidato debe tener todas las habilidades con los niveles seleccionados`}),(0,A.jsx)(j,{label:`Habilidades`,placeholder:`Seleccionar habilidades...`,options:l,value:o,onChange:s,helperText:`El candidato debe tener todas las habilidades seleccionadas`})]})}),(0,A.jsx)(`div`,{className:`border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-3xl`,children:(0,A.jsxs)(`div`,{className:`flex gap-3`,children:[d>0&&(0,A.jsxs)(`button`,{onClick:u,className:`flex-1 min-h-[48px] px-4 py-3 text-sm font-medium text-[#FB6731] bg-white border-2 border-[#FB6731] rounded-lg hover:bg-[#FFF0EB] transition-colors active:scale-95 flex items-center justify-center gap-2`,children:[(0,A.jsx)(g,{className:`w-4 h-4`}),`Limpiar`]}),(0,A.jsx)(`button`,{onClick:t,className:`flex-1 min-h-[48px] px-4 py-3 text-sm font-medium text-white bg-[#FB6731] rounded-lg hover:bg-[#ff7542] transition-colors active:scale-95 shadow-lg`,children:`Aplicar filtros`})]})})]})]})})}function Z({onClick:e,activeFiltersCount:t}){return(0,A.jsxs)(w.button,{onClick:e,className:`md:hidden fixed bottom-6 right-6 z-30 min-w-[56px] min-h-[56px] bg-[#FB6731] text-white rounded-full shadow-lg hover:bg-[#ff7542] active:scale-95 transition-colors flex items-center justify-center gap-2 px-4`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Abrir filtros`,children:[(0,A.jsx)(r,{className:`w-6 h-6`}),t>0&&(0,A.jsx)(T,{mode:`wait`,children:(0,A.jsx)(w.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:`absolute -top-1 -right-1 inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-[#FB6731] bg-white rounded-full border-2 border-[#FB6731]`,children:t},t)})]})}function Q({totalItems:e}){return e===0?(0,A.jsx)(`span`,{children:`No se encontraron resultados`}):(0,A.jsxs)(`span`,{children:[`Mostrando`,` `,(0,A.jsx)(`span`,{className:`font-semibold text-gray-900`,children:e}),` `,e===1?`candidato`:`candidatos`]})}function te({currentPage:e,totalPages:t,pageSize:n,totalItems:r,onPageChange:i,onPageSizeChange:a,onNext:o,onPrevious:s,hasNext:c,hasPrevious:l}){let u=r===0?0:(e-1)*n+1,d=Math.min(e*n,r);return(0,A.jsxs)(`div`,{className:`w-full flex flex-col items-center gap-2 sm:gap-3 px-3 sm:px-4 py-3 bg-white border border-gray-200 rounded-lg shadow-sm`,children:[(0,A.jsxs)(`div`,{className:`text-xs sm:text-sm text-gray-700 text-center`,children:[`Mostrando`,` `,(0,A.jsxs)(`span`,{className:`font-medium`,children:[u,`-`,d]}),` `,`de `,(0,A.jsx)(`span`,{className:`font-medium`,children:r})]}),(0,A.jsxs)(`div`,{className:`flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-3 w-full sm:w-auto`,children:[(0,A.jsxs)(`div`,{className:`flex items-center gap-1 order-2 sm:order-1`,children:[(0,A.jsx)(`button`,{onClick:()=>i(1),disabled:!l,className:`min-w-[40px] min-h-[40px] sm:min-w-[44px] sm:min-h-[44px] px-2 sm:px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors active:scale-95`,"aria-label":`Primera página`,children:`«`}),(0,A.jsx)(`button`,{onClick:s,disabled:!l,className:`min-w-[40px] min-h-[40px] sm:min-w-[44px] sm:min-h-[44px] px-2 sm:px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors active:scale-95`,"aria-label":`Página anterior`,children:`‹`}),(0,A.jsxs)(`span`,{className:`px-2 sm:px-4 py-2 min-h-[40px] sm:min-h-[44px] flex items-center text-sm text-gray-700 bg-gray-50 rounded-md`,children:[(0,A.jsx)(`span`,{className:`font-medium`,children:e}),(0,A.jsx)(`span`,{className:`text-gray-500 mx-1`,children:`/`}),(0,A.jsx)(`span`,{className:`font-medium`,children:t||1})]}),(0,A.jsx)(`button`,{onClick:o,disabled:!c,className:`min-w-[40px] min-h-[40px] sm:min-w-[44px] sm:min-h-[44px] px-2 sm:px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors active:scale-95`,"aria-label":`Página siguiente`,children:`›`}),(0,A.jsx)(`button`,{onClick:()=>i(t),disabled:!c,className:`min-w-[40px] min-h-[40px] sm:min-w-[44px] sm:min-h-[44px] px-2 sm:px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors active:scale-95`,"aria-label":`Última página`,children:`»`})]}),(0,A.jsxs)(`div`,{className:`flex items-center gap-1.5 sm:gap-2 order-1 sm:order-2`,children:[(0,A.jsx)(`label`,{htmlFor:`page-size`,className:`text-xs text-gray-600 whitespace-nowrap`,children:`Por página:`}),(0,A.jsxs)(`select`,{id:`page-size`,value:n,onChange:e=>a(Number(e.target.value)),className:`min-h-[40px] sm:min-h-[44px] border border-gray-300 rounded-md px-2 sm:px-3 py-1.5 sm:py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#FB6731] focus:border-transparent bg-white`,children:[(0,A.jsx)(`option`,{value:10,children:`10`}),(0,A.jsx)(`option`,{value:20,children:`20`}),(0,A.jsx)(`option`,{value:30,children:`30`})]})]})]})]})}function $({className:e=``,variant:t=`rectangular`}){return(0,A.jsx)(`div`,{className:`animate-pulse bg-gray-200 ${{text:`h-4 rounded`,rectangular:`rounded-lg`,circular:`rounded-full`}[t]} ${e}`,"aria-hidden":`true`})}function ne(){return(0,A.jsxs)(`div`,{className:`w-full bg-[#FFF0EB] rounded-xl p-6 mb-6 border border-[#FB6731]/20`,children:[(0,A.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,A.jsx)($,{className:`h-6 w-20`,variant:`text`}),(0,A.jsx)($,{className:`h-9 w-9`,variant:`rectangular`})]}),(0,A.jsxs)(`div`,{className:`space-y-4`,children:[(0,A.jsxs)(`div`,{className:`flex w-full flex-col gap-1`,children:[(0,A.jsx)($,{className:`h-4 sm:h-5 w-32`,variant:`text`}),(0,A.jsx)($,{className:`w-full rounded-[10px] px-3 py-2.5 sm:py-3 md:py-3.5 shadow-[0px_2px_8px_0px_rgba(0,0,0,0.25)]`,variant:`rectangular`})]}),(0,A.jsxs)(`div`,{className:`flex w-full flex-col gap-1`,children:[(0,A.jsx)($,{className:`h-4 sm:h-5 w-40`,variant:`text`}),(0,A.jsx)($,{className:`w-full min-h-[44px] rounded-[10px] px-3 py-2 shadow-[0px_2px_8px_0px_rgba(0,0,0,0.25)]`,variant:`rectangular`}),(0,A.jsx)($,{className:`h-3 sm:h-[14px] w-64`,variant:`text`})]}),(0,A.jsxs)(`div`,{className:`flex w-full flex-col gap-1`,children:[(0,A.jsx)($,{className:`h-4 sm:h-5 w-24`,variant:`text`}),(0,A.jsx)($,{className:`w-full min-h-[44px] rounded-[10px] px-3 py-2 shadow-[0px_2px_8px_0px_rgba(0,0,0,0.25)]`,variant:`rectangular`}),(0,A.jsx)($,{className:`h-3 sm:h-[14px] w-56`,variant:`text`})]})]})]})}function re(){return(0,A.jsx)(`div`,{className:`w-full mb-4 text-sm`,children:(0,A.jsx)($,{className:`h-5 w-48`,variant:`text`})})}function ie(){return(0,A.jsx)(`div`,{className:`w-full mb-6 overflow-x-auto bg-white rounded-lg shadow-sm border border-gray-200`,children:(0,A.jsxs)(`table`,{className:`w-full border-collapse`,children:[(0,A.jsx)(`thead`,{children:(0,A.jsxs)(`tr`,{className:`bg-gray-50 border-b border-gray-200`,children:[(0,A.jsx)(`th`,{className:`px-4 py-3 text-left`,children:(0,A.jsx)($,{className:`h-4 w-16`,variant:`text`})}),(0,A.jsx)(`th`,{className:`px-4 py-3 text-left`,children:(0,A.jsx)($,{className:`h-4 w-32`,variant:`text`})}),(0,A.jsx)(`th`,{className:`px-4 py-3 text-left`,children:(0,A.jsx)($,{className:`h-4 w-20`,variant:`text`})}),(0,A.jsx)(`th`,{className:`px-4 py-3 text-left`,children:(0,A.jsx)($,{className:`h-4 w-24`,variant:`text`})}),(0,A.jsx)(`th`,{className:`px-4 py-3 text-center`,children:(0,A.jsx)($,{className:`h-4 w-16 mx-auto`,variant:`text`})})]})}),(0,A.jsx)(`tbody`,{className:`divide-y divide-gray-100`,children:Array.from({length:10}).map((e,t)=>(0,A.jsxs)(`tr`,{className:`hover:bg-gray-50`,children:[(0,A.jsx)(`td`,{className:`px-4 py-3`,children:(0,A.jsx)($,{className:`h-5 w-24`,variant:`text`})}),(0,A.jsx)(`td`,{className:`px-4 py-3`,children:(0,A.jsx)($,{className:`h-5 w-20`,variant:`text`})}),(0,A.jsx)(`td`,{className:`px-4 py-3`,children:(0,A.jsx)($,{className:`h-6 w-12`,variant:`rectangular`})}),(0,A.jsx)(`td`,{className:`px-4 py-3`,children:(0,A.jsxs)(`div`,{className:`flex flex-wrap gap-1`,children:[(0,A.jsx)($,{className:`h-6 w-16`,variant:`rectangular`}),(0,A.jsx)($,{className:`h-6 w-20`,variant:`rectangular`}),(0,A.jsx)($,{className:`h-6 w-14`,variant:`rectangular`})]})}),(0,A.jsx)(`td`,{className:`px-4 py-3 text-center`,children:(0,A.jsx)($,{className:`h-8 w-24 mx-auto`,variant:`rectangular`})})]},t))})]})})}function ae(){return(0,A.jsxs)(`div`,{className:`w-full flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3 bg-white border border-gray-200 rounded-lg shadow-sm`,children:[(0,A.jsx)(`div`,{className:`text-sm`,children:(0,A.jsx)($,{className:`h-5 w-48`,variant:`text`})}),(0,A.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,A.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,A.jsx)($,{className:`h-5 w-36`,variant:`text`}),(0,A.jsx)($,{className:`border border-gray-300 rounded-md px-2 py-1 w-14 h-[30px]`,variant:`rectangular`})]}),(0,A.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,A.jsx)($,{className:`px-2 py-1 w-7 h-[30px] border border-gray-300 rounded-md`,variant:`rectangular`}),(0,A.jsx)($,{className:`px-2 py-1 w-7 h-[30px] border border-gray-300 rounded-md`,variant:`rectangular`}),(0,A.jsx)($,{className:`px-3 py-1 w-12 h-[30px]`,variant:`text`}),(0,A.jsx)($,{className:`px-2 py-1 w-7 h-[30px] border border-gray-300 rounded-md`,variant:`rectangular`}),(0,A.jsx)($,{className:`px-2 py-1 w-7 h-[30px] border border-gray-300 rounded-md`,variant:`rectangular`})]})]})]})}function oe({data:e,sortColumn:t,sortDirection:n,onSort:r,onContact:i,contactedCandidates:l}){let f=e=>t===e?n===`asc`?(0,A.jsx)(a,{className:`w-3 h-3`}):(0,A.jsx)(o,{className:`w-3 h-3`}):(0,A.jsx)(c,{className:`w-3 h-3 text-gray-400`}),p=e=>new Date(e).toLocaleDateString(`es-AR`,{day:`2-digit`,month:`2-digit`,year:`numeric`}),g=e=>{switch(e){case`Advanced`:return`bg-green-100 text-green-800`;case`Intermediate`:return`bg-blue-100 text-blue-800`;case`Beginner`:return`bg-gray-100 text-gray-800`;default:return`bg-gray-100 text-gray-800`}};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(`div`,{className:`md:hidden space-y-3`,children:[(0,A.jsxs)(`div`,{className:`flex gap-2 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100`,children:[(0,A.jsxs)(`button`,{onClick:()=>r(`username`),className:`flex-shrink-0 inline-flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg border transition-all ${t===`username`?`bg-gray-900 text-white border-gray-900`:`bg-white text-gray-700 border-gray-300 hover:border-gray-400`}`,children:[`Usuario`,f(`username`)]}),(0,A.jsxs)(`button`,{onClick:()=>r(`joined_at`),className:`flex-shrink-0 inline-flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg border transition-all ${t===`joined_at`?`bg-gray-900 text-white border-gray-900`:`bg-white text-gray-700 border-gray-300 hover:border-gray-400`}`,children:[`Fecha`,f(`joined_at`)]}),(0,A.jsxs)(`button`,{onClick:()=>r(`score`),className:`flex-shrink-0 inline-flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg border transition-all ${t===`score`?`bg-gray-900 text-white border-gray-900`:`bg-white text-gray-700 border-gray-300 hover:border-gray-400`}`,children:[`Puntuación`,f(`score`)]})]}),e.length===0?(0,A.jsx)(`div`,{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-12`,children:(0,A.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,A.jsx)(s,{className:`w-12 h-12 text-gray-300`}),(0,A.jsx)(`p`,{className:`text-gray-500 text-sm`,children:`No se encontraron candidatos`})]})}):e.map((e,t)=>(0,A.jsxs)(`article`,{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-5 space-y-4 active:shadow-lg active:scale-[0.99] transition-all duration-200 hover:shadow-md`,children:[(0,A.jsxs)(`div`,{className:`flex items-center justify-between gap-3 pb-3 border-b border-gray-100`,children:[(0,A.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,A.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,A.jsx)(`h3`,{className:`text-lg font-bold text-gray-900 truncate`,children:e.username}),l.has(e.username)&&(0,A.jsxs)(`span`,{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200`,children:[(0,A.jsx)(u,{className:`w-3 h-3`}),`Contactado`]})]}),(0,A.jsxs)(`p`,{className:`text-xs text-gray-500 mt-0.5 flex items-center gap-1`,children:[(0,A.jsx)(`span`,{children:(0,A.jsx)(d,{className:`w-3 h-3`})}),(0,A.jsx)(`time`,{dateTime:e.joined_at,children:p(e.joined_at)})]})]}),(0,A.jsx)(`div`,{className:`flex-shrink-0`,children:(0,A.jsx)(`div`,{className:`inline-flex items-center justify-center w-14 h-14 rounded-full bg-gradient-to-br from-purple-100 to-purple-50 border-2 border-purple-200`,children:(0,A.jsxs)(`div`,{className:`text-center`,children:[(0,A.jsx)(`div`,{className:`text-base font-bold text-purple-800`,children:e.score}),(0,A.jsx)(`div`,{className:`text-[9px] text-purple-600 font-medium -mt-0.5`,children:`pts`})]})})})]}),(0,A.jsxs)(`div`,{className:`space-y-2`,children:[(0,A.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,A.jsxs)(`span`,{className:`text-xs font-bold text-gray-700 uppercase tracking-wider flex items-center gap-1`,children:[(0,A.jsx)(h,{className:`w-3 h-3`}),`Habilidades`]}),(0,A.jsxs)(`span`,{className:`text-xs text-gray-600`,children:[`(`,e.skills.length,`)`]})]}),(0,A.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:e.skills.map((e,t)=>(0,A.jsx)(`span`,{className:`inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold shadow-sm ${g(e.level)} border border-black/5`,title:`${e.language} - ${e.level}`,children:e.language},t))})]}),l.has(e.username)?(0,A.jsxs)(`button`,{disabled:!0,className:`w-full inline-flex items-center justify-center gap-2 px-4 py-3.5 min-h-[52px] text-base font-semibold text-gray-500 bg-gray-200 rounded-xl cursor-not-allowed shadow-sm`,children:[(0,A.jsx)(u,{className:`w-5 h-5`}),`Ya contactado`]}):(0,A.jsxs)(`button`,{onClick:()=>i(e),className:`w-full inline-flex items-center justify-center gap-2 px-4 py-3.5 min-h-[52px] text-base font-semibold text-white bg-[#FB6731] hover:bg-[#ff7542] active:bg-[#e85a2a] rounded-xl transition-all shadow-md hover:shadow-lg active:shadow-sm active:scale-[0.98]`,children:[(0,A.jsx)(m,{className:`w-5 h-5`}),`Contactar`]})]},`${e.username}-${t}`))]}),(0,A.jsx)(`div`,{className:`hidden md:block w-full max-w-full overflow-x-auto bg-white rounded-lg shadow-sm border border-gray-200 -webkit-overflow-scrolling-touch scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100`,children:(0,A.jsxs)(`table`,{className:`border-collapse min-w-full`,children:[(0,A.jsx)(`thead`,{children:(0,A.jsxs)(`tr`,{className:`bg-gray-50 border-b border-gray-200`,children:[(0,A.jsx)(`th`,{className:`sticky left-0 z-10 bg-gray-50 px-4 py-3 text-left shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:(0,A.jsxs)(`button`,{onClick:()=>r(`username`),className:`group flex items-center gap-2 text-sm font-semibold text-gray-700 hover:text-gray-900 transition-colors w-full`,children:[`Usuario`,(0,A.jsx)(`span`,{className:`text-xs cursor-pointer hover:bg-gray-200 rounded-full p-1`,children:f(`username`)})]})}),(0,A.jsx)(`th`,{className:`px-4 py-3 text-left min-w-[100px]`,children:(0,A.jsxs)(`button`,{onClick:()=>r(`joined_at`),className:`group flex items-center gap-2 text-sm font-semibold text-gray-700 hover:text-gray-900 transition-colors `,children:[`Fecha de ingreso`,(0,A.jsx)(`span`,{className:`text-xs cursor-pointer hover:bg-gray-200 rounded-full p-1`,children:f(`joined_at`)})]})}),(0,A.jsx)(`th`,{className:`px-4 py-3 text-left min-w-[120px]`,children:(0,A.jsxs)(`button`,{onClick:()=>r(`score`),className:`group flex items-center gap-2 text-sm font-semibold text-gray-700 hover:text-gray-900 transition-colors `,children:[`Puntuación`,(0,A.jsx)(`span`,{className:`text-xs cursor-pointer hover:bg-gray-200 rounded-full p-1`,children:f(`score`)})]})}),(0,A.jsx)(`th`,{className:`px-4 py-3 text-left text-sm font-semibold text-gray-700 w-[250px]`,children:`Habilidades`}),(0,A.jsx)(`th`,{className:`px-4 py-3 text-center text-sm font-semibold text-gray-700 min-w-[120px]`,children:`Acciones`})]})}),(0,A.jsx)(`tbody`,{className:`divide-y divide-gray-100`,children:e.length===0?(0,A.jsx)(`tr`,{children:(0,A.jsx)(`td`,{colSpan:5,className:`px-4 py-12 text-center`,children:(0,A.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,A.jsx)(s,{className:`w-12 h-12 text-gray-300`}),(0,A.jsx)(`p`,{className:`text-gray-500 text-sm`,children:`No se encontraron candidatos`})]})})}):e.map((e,t)=>(0,A.jsxs)(`tr`,{className:`hover:bg-gray-50 transition-colors`,children:[(0,A.jsx)(`td`,{className:`sticky left-0 z-10 bg-white px-4 py-3 shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] group-hover:bg-gray-50`,children:(0,A.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,A.jsx)(`span`,{className:`text-sm font-medium text-gray-900`,children:e.username}),l.has(e.username)&&(0,A.jsxs)(`span`,{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200 w-fit`,children:[(0,A.jsx)(u,{className:`w-3 h-3`}),`Contactado`]})]})}),(0,A.jsx)(`td`,{className:`px-4 py-3 text-sm text-gray-700`,children:(0,A.jsx)(`time`,{dateTime:e.joined_at,title:new Date(e.joined_at).toLocaleDateString(`es-AR`,{day:`numeric`,month:`long`,year:`numeric`}),children:p(e.joined_at)})}),(0,A.jsx)(`td`,{className:`px-4 py-3`,children:(0,A.jsxs)(`span`,{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-purple-100 text-purple-800`,children:[`⭐ `,e.score]})}),(0,A.jsx)(`td`,{className:`px-4 py-3`,children:(0,A.jsx)(`div`,{className:`flex flex-wrap gap-1 max-w-full`,children:e.skills.map((e,t)=>(0,A.jsx)(`span`,{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${g(e.level)}`,title:e.level,children:e.language},t))})}),(0,A.jsx)(`td`,{className:`px-4 py-3 text-center`,children:l.has(e.username)?(0,A.jsxs)(`button`,{disabled:!0,className:`inline-flex items-center gap-1 px-3 py-2 min-h-[44px] text-sm font-medium text-gray-500 bg-gray-200 rounded-md cursor-not-allowed shadow-sm`,children:[(0,A.jsx)(u,{className:`w-4 h-4`}),`Ya contactado`]}):(0,A.jsxs)(`button`,{onClick:()=>i(e),className:`inline-flex items-center gap-1 px-3 py-2 min-h-[44px] text-sm font-medium text-white bg-[#FB6731] hover:bg-[#ff7542] rounded-md transition-colors shadow-sm active:scale-95`,children:[(0,A.jsx)(m,{className:`w-4 h-4`}),`Contactar`]})})]},`${e.username}-${t}`))})]})})]})}function se({message:e,type:t,isVisible:n,onClose:r,duration:a=5e3}){(0,k.useEffect)(()=>{if(n&&a>0){let e=setTimeout(()=>{r()},a);return()=>clearTimeout(e)}},[n,a,r]);let o=(()=>{switch(t){case`success`:return{bg:`bg-green-50`,border:`border-green-500`,text:`text-green-800`,icon:(0,A.jsx)(u,{className:`w-5 h-5`,"aria-hidden":`true`})};case`error`:return{bg:`bg-red-50`,border:`border-red-500`,text:`text-red-800`,icon:(0,A.jsx)(i,{className:`w-5 h-5`,"aria-hidden":`true`})};case`info`:default:return{bg:`bg-blue-50`,border:`border-blue-500`,text:`text-blue-800`,icon:(0,A.jsx)(l,{className:`w-5 h-5`,"aria-hidden":`true`})}}})();return(0,A.jsx)(T,{children:n&&(0,A.jsx)(`div`,{className:`fixed top-4 right-4 z-[100] max-w-md`,children:(0,A.jsxs)(w.div,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{type:`spring`,stiffness:300,damping:25},className:`
              flex items-start gap-3 p-4 rounded-lg border-l-4 shadow-lg
              ${o.bg} ${o.border} ${o.text}
            `,role:`alert`,children:[(0,A.jsx)(`div`,{className:`flex-shrink-0 mt-0.5`,children:o.icon}),(0,A.jsx)(`div`,{className:`flex-1 text-sm font-medium`,children:e}),(0,A.jsx)(`button`,{onClick:r,className:`flex-shrink-0 ml-2 ${o.text} hover:opacity-70 transition-opacity`,"aria-label":`Cerrar notificación`,children:(0,A.jsx)(g,{className:`w-4 h-4`,"aria-hidden":`true`})})]})})})}function ce({data:e,initialPageSize:t=10}){let[n,r]=(0,k.useState)(``),[i,a]=(0,k.useState)([]),[o,s]=(0,k.useState)([]),[c,l]=(0,k.useState)(null),[u,d]=(0,k.useState)(null),[f,p]=(0,k.useState)(1),[m,h]=(0,k.useState)(t),g=(0,k.useMemo)(()=>e.filter(e=>{let t=n===``||e.username.toLowerCase().includes(n.toLowerCase())||e.skills.some(e=>e.language.toLowerCase().includes(n.toLowerCase())),r=i.length===0||i.every(t=>e.skills.some(e=>e.level.toLowerCase()===t.toLowerCase())),a=o.length===0||o.every(t=>e.skills.some(e=>e.language.toLowerCase()===t.toLowerCase()));return t&&r&&a}),[e,n,i,o]),_=(0,k.useMemo)(()=>!c||!u?g:[...g].sort((e,t)=>{let n,r;return c===`joined_at`?(n=new Date(e.joined_at).getTime(),r=new Date(t.joined_at).getTime()):c===`score`?(n=e.score,r=t.score):c===`username`?(n=e.username.toLowerCase(),r=t.username.toLowerCase()):(n=0,r=0),n<r?u===`asc`?-1:1:n>r?u===`asc`?1:-1:0}),[g,c,u]),v=Math.ceil(_.length/m);return{data:(0,k.useMemo)(()=>{let e=(f-1)*m,t=e+m;return _.slice(e,t)},[_,f,m]),totalItems:_.length,totalPages:v,searchTerm:n,levelFilters:i,skillFilters:o,setSearchTerm:e=>{r(e),p(1)},setLevelFilters:e=>{a(e),p(1)},setSkillFilters:e=>{s(e),p(1)},clearFilters:()=>{r(``),a([]),s([]),l(null),d(null),p(1)},sortColumn:c,sortDirection:u,handleSort:e=>{c===e?u===`asc`?d(`desc`):u===`desc`&&(l(null),d(null)):(l(e),d(`asc`))},currentPage:f,pageSize:m,goToPage:e=>{p(Math.max(1,Math.min(e,v)))},nextPage:()=>{f<v&&p(e=>e+1)},previousPage:()=>{f>1&&p(e=>e-1)},changePageSize:e=>{h(e),p(1)},hasNextPage:f<v,hasPreviousPage:f>1}}function le(){let[e,n]=(0,k.useState)(null),[r,i]=(0,k.useState)(!1),[a,o]=(0,k.useState)(!0),[s,c]=(0,k.useState)(!1),{contactedCandidates:l,isContacted:u}=U(),[d,f]=(0,k.useState)({message:``,type:`info`,isVisible:!1}),{data:p,isLoading:m,isError:h,error:g}=t({queryKey:[`candidates`],queryFn:G}),v=ce({data:p||[],initialPageSize:10}),y=e=>{if(u(e.username)){x(`ℹ️ Ya contactaste a @${e.username} anteriormente`,`info`);return}n(e),i(!0)},b=()=>{i(!1),n(null)},x=(e,t)=>{f({message:e,type:t,isVisible:!0})},S=()=>{f(e=>({...e,isVisible:!1}))},C=(0,k.useMemo)(()=>{if(!p)return[];let e=new Set(p.flatMap(e=>e.skills.map(e=>e.level)));return Array.from(e).sort().map(e=>({value:e,label:e}))},[p]),w=(0,k.useMemo)(()=>{if(!p)return[];let e=new Set(p.flatMap(e=>e.skills.map(e=>e.language)));return Array.from(e).sort().map(e=>({value:e,label:e}))},[p]),T=(v.searchTerm?1:0)+v.levelFilters.length+v.skillFilters.length;return m?(0,A.jsxs)(`div`,{className:`max-w-4xl mx-auto py-8`,children:[(0,A.jsxs)(`div`,{className:`mb-8 px-4 sm:px-6 lg:px-8`,children:[(0,A.jsx)(`h1`,{className:`text-3xl md:text-4xl font-bold text-gray-900 mb-2`,children:`Candidatos`}),(0,A.jsx)(`p`,{className:`text-gray-600`,children:`Explorá nuestra base de candidatos y contactalos directamente`})]}),(0,A.jsxs)(`div`,{className:`w-full px-4 sm:px-6 lg:px-8`,children:[(0,A.jsx)(`div`,{className:`hidden md:block`,children:(0,A.jsx)(ne,{})}),(0,A.jsx)(re,{}),(0,A.jsx)(ie,{}),(0,A.jsx)(ae,{})]})]}):h?(0,A.jsx)(`div`,{className:`flex items-center justify-center min-h-[60vh]`,children:(0,A.jsxs)(`div`,{className:`flex flex-col items-center gap-4 max-w-md text-center`,children:[(0,A.jsx)(_,{className:`w-16 h-16 text-red-500`}),(0,A.jsxs)(`div`,{children:[(0,A.jsx)(`h2`,{className:`text-xl font-semibold text-gray-900 mb-2`,children:`Error al cargar candidatos`}),(0,A.jsx)(`p`,{className:`text-gray-600`,children:g instanceof Error?g.message:`Ocurrió un error desconocido`})]})]})}):(0,A.jsxs)(`div`,{className:`max-w-4xl mx-auto py-8`,children:[(0,A.jsxs)(`div`,{className:`mb-8 px-4 sm:px-6 lg:px-8`,children:[(0,A.jsx)(`h1`,{className:`text-3xl md:text-4xl font-bold text-gray-900 mb-2`,children:`Candidatos`}),(0,A.jsx)(`p`,{className:`text-gray-600`,children:`Explorá nuestra base de candidatos y contactalos directamente`})]}),(0,A.jsxs)(`div`,{className:`w-full max-w-[100dvw] max-w-[90%] px-4 sm:px-6 lg:px-8`,children:[(0,A.jsx)(N,{isExpanded:a,onToggleExpanded:()=>o(!a),searchTerm:v.searchTerm,onSearchChange:v.setSearchTerm,levelFilters:v.levelFilters,onLevelFiltersChange:v.setLevelFilters,skillFilters:v.skillFilters,onSkillFiltersChange:v.setSkillFilters,levelOptions:C,skillOptions:w,onClearFilters:v.clearFilters,activeFiltersCount:T}),(0,A.jsx)(`div`,{className:`w-full mb-4 text-sm text-gray-600`,children:(0,A.jsx)(Q,{totalItems:v.totalItems})}),(0,A.jsx)(`div`,{className:`w-full mb-6`,children:(0,A.jsx)(oe,{data:v.data,sortColumn:v.sortColumn,sortDirection:v.sortDirection,onSort:v.handleSort,onContact:y,contactedCandidates:l})}),v.totalItems>0&&(0,A.jsx)(`div`,{className:`w-full`,children:(0,A.jsx)(te,{currentPage:v.currentPage,totalPages:v.totalPages,pageSize:v.pageSize,totalItems:v.totalItems,onPageChange:v.goToPage,onPageSizeChange:v.changePageSize,onNext:v.nextPage,onPrevious:v.previousPage,hasNext:v.hasNextPage,hasPrevious:v.hasPreviousPage})})]}),(0,A.jsx)(Y,{isOpen:r,onClose:b,candidate:e,onSuccess:e=>x(e,`success`),onError:e=>x(e,`error`)}),(0,A.jsx)(se,{message:d.message,type:d.type,isVisible:d.isVisible,onClose:S}),(0,A.jsx)(Z,{onClick:()=>c(!0),activeFiltersCount:T}),(0,A.jsx)(X,{isOpen:s,onClose:()=>c(!1),searchTerm:v.searchTerm,onSearchChange:v.setSearchTerm,levelFilters:v.levelFilters,onLevelFiltersChange:v.setLevelFilters,skillFilters:v.skillFilters,onSkillFiltersChange:v.setSkillFilters,levelOptions:C,skillOptions:w,onClearFilters:v.clearFilters,activeFiltersCount:T})]})}export{le as default};